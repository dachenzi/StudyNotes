<font size=5 face='微软雅黑'>__文章目录__</font>

<!-- TOC -->

- [1 数据库概述](#1-数据库概述)
- [2 MySQL介绍](#2-mysql介绍)
    - [2.1 ACID](#21-acid)
    - [2.2 关系](#22-关系)
    - [2.3 安装MySQL](#23-安装mysql)
- [3 SQL](#3-sql)
    - [3.1 语言规范](#31-语言规范)

<!-- /TOC -->
# 1 数据库概述
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数据库指的是按照数据结构来组织、存储、管理数据的仓库，常用的数据库种类为关系型数据库和非关系型数据库。关系型数据库模型是把复杂的数据归结为简单的二元关系(即二维表格形式——)。  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在关系数据库中，对数据的操作几乎全部建立在一个或多个关系表格上，通过对这些关联的表格分类、合并、连接或选取等运算实现数据的管理。
__常见的数据库有MySQL__。

# 2 MySQL介绍
MySQL是Web世界中使用最广泛的数据库服务器，访问及管理mysql数据库的最常用标准化语言为SQL结构化查询语句。早先的MySQL使用的是MyISAM引擎，它是一种利用索引顺序存取数据的软件。从MySQL 4.0版本开始支持InnoDB引擎。
- MyISAM，不支持事物，插入、查询速度快
- InnoDB：支持事务，行级锁，MySQL 5.5起的默认引擎

## 2.1 ACID
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACID，指数据库事务正确执行的四个基本要素的缩写。包含：`原子性（Atomicity）`、`一致性（Consistency）`、`隔离性（Isolation）`、`持久性（Durability）`。一个支持事务（Transaction）的数据库，必须要具有这四种特性，否则在事务过程（Transaction processing）当中无法保证数据的正确性，交易过程极可能达不到交易方的要求。MySQL的Innode支持事务，所以它遵守ACID原则。

## 2.2 关系
在关系数据库中，关系就是二维表，由行和列组成。
- 行row，也称为记录Record、元组。
- Column，也称为字段Filed、属性。




## 2.3 安装MySQL
这里仅列出在Linux下的安装：

- 通过yum进行安装
```bash
1、安装MySQL
yum install -y mysql-server (centos 7以下)
yum install -y mariadb-server (centos 7及以上)

2、启动服务
/etc/init.d/mysqld start (centos 7以下)
systemctl start maridab (centos 7及以上)

3、关闭服务
/etc/init.d/mysqld stop (centos 7以下)
systemctl stop maridab (centos 7及以上)
```

- 编译安装
```python
1.安装依赖包
yum install -y ncurses-devel libaio-devel
rpm -qa ncurses-devel libaio-devel

2.安装cmake编译工具
yum install -y cmake

3.上传源码包
rz -y mysql-5.5.49.tar.gz

4.解压并安装
tar xf mysql-5.5.49.tar.gz
cd mysql-5.5.49
 
cmake . -DCMAKE_INSTALL_PREFIX=/application/mysql-5.5.49 \
-DMYSQL_DATADIR=/application/mysql-5.5.49/data \
-DMYSQL_UNIX_ADDR=/application/mysql-5.5.49/tmp/mysql.sock \
-DDEFAULT_CHARSET=utf8 \
-DDEFAULT_COLLATION=utf8_general_ci \
-DEXTRA_CHARSETS=gbk,gb2312,utf8,ascii \
-DENABLED_LOCAL_INFILE=ON \
-DWITH_INNOBASE_STORAGE_ENAINE=1 \
-DWITH_FEDERATED_STORAGE_ENGINE=1 \
-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \
-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 \
-DWITHOUT_PARTITION_STORAGE_ENGINE=1 \
-DWITH_FAST_MUTEXES=1 \
-DWITH_ZLIB=bundled \
-DENABLED_LOCAL_INFILE=1 \
-DWITH_EMBEDDED_SERVER=1 \
-DWITH_DEBUG=0
 
make && make install && cd ..
5.创建链接文件
ln -s /application/mysql-5.5.49/ /application/mysql

6.创建数据库用户及配置文件
useradd -M -s /sbin/nologin mysql

7.初始化数据库
/application/mysql/scripts/mysql_install_db --user=mysql --basedir=/application/mysql --datadir=/application/mysql/data

8.定义环境变量
cp /application/mysql/bin/* /usr/local/sbin
或者
PATH=/application/mysql/bin:$PATH

9.开启数据库
/application/mysql/bin/mysql start

10.登录数据库
mysql
如果设置了用户密码
mysql -uroot -p123456

11.关闭数据库
/application/mysql/bin/mysql stop

12.设置密码
mysqladmin password 123456 -S /data/3306/mysql.sock
```






# 3 SQL
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Structured Query Language,是一种对关系数据库中的数据进行定义和操作的语言方法,是大多数关系数据库管理系统所支持的工业标准。主要分为以下6类:
- `数据查询语言(DQL)`:data query language,也成为数据检索语句，作用是从表格中获取数据，确定数据怎么样在应用程序给出。关键字select是SQL用的最多的动词，其他DQL常用的保留字段有where、order by、group by和having
- `数据操作语言(DML)`:data manipulation language,其中包括动词insert、update和delete，他们用于添加、修改、删除表中的行，也称动作查询语句。
- `数据处理语言(TPL)`:它的语句能确保被DML语句影响的表的所有行及时得以更新。TPL语句包括，begin、transaction、commit和rollback
- `数据控制语言(DCL)`:data control languag,它的语句通过grant或revoke 获得许可，确定 单个用户和用户组对数据库对象的访问。某些RDBMS可用GRANT或revoke控制对单个列的访问。
- `指针控制语言(CCL)`:它的语句，像 declare cursor、fetch into、update where current用于对一个或多个表单独执行的操作
- `数据定义语言(DDL)`:data definition language,其语句包括create和drop、alter。在数据库中创建新表或删除表（create table 或者 drop table），为表加入索引等。是动作查询的一部分

我们日常开发会用到的SQL语言类型为：`DML、DQL以及DDL`
>RDBMS的数据库、表的概念其实就相当于目录，文件，及内容

## 3.1 语言规范
编写SQL语句时，我们要遵顼如下规范：
1. SQL语句大小写不敏感(一般建议，SQL的关键字、函数等大写)
2. SQL语句末尾应该使用分号结束
3. 注释
    - 多行注释 /\*注释内容*/
    - 单行注释 --注释内容
    - MySQL 注释可以使用 #
4. 使用空格或缩进来提高可读性
5. 命名规范
    - 必须以字母开头
    - 可以使用数字、#、$和_
    - 不可使用关键字