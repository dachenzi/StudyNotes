# 1 封装与解构
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;封装与解构属于Python语言的一种特性，它使用起来很像其他语言中的`"逗号表达式"`，但内部原理是不同的，在某些场景下：比如变量交换复制时使用，显得非常优雅。
## 1.1 封装
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;封装故名思议就是装箱，把多个值使用逗号分隔，组合在一起，本质上来看，其返回的是一个元组，只是省略了小括号。(一定要区别与C语言的逗号表达式)
```python
In [91]: t1 = (1,2)  # 定义一个元组                                                                                                                                
In [92]: t2 = 1,2    # 省略括号，其内部还是会封装成元组                                                                                                                               
In [93]: t1                                                                                                                                         
Out[93]: (1, 2)
In [94]: t2                                                                                                                                         
Out[94]: (1, 2)
In [95]: type(t1)                                                                                                                                   
Out[95]: tuple
In [96]: type(t2)                                                                                                                                   
Out[96]: tuple

```
## 1.2 解构
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;解构，解构，就是把箱子解开，在Python中表示从线性结构中把元素解开，并且顺序的赋值给其他变量，需要注意的是，解构时接受元素的变量，需要放在等式的左边，并且数量要和右边解开的元素的个数一致。
```python
In [97]: t1                                                                                                                                         
Out[97]: (1, 2)
In [98]: a,b = t1    # 表示把1赋给a，把2赋给b                                                                                                                               
In [99]: a                                                                                                                                          
Out[99]: 1
In [100]: b                                                                                                                                         
Out[100]: 2
In [101]: a,b,c = t1           # 当接受元素的变量多余解构的元素时，会提示ValueError，反之相同                                                                                                                     
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-101-2e8ad53e5fc7> in <module>
----> 1 a,b,c = t1

ValueError: not enough values to unpack (expected 3, got 2)

In [102]:  
```
## 1.3 Python3的解构
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;了解了封装与解构，那么回想一下当我们需要进行变量交换的时候，是否可以通过封装与解构进行优化呢？当我们在其他语言中进行a，b变量的值的交换，我们需要一个中间变量temp，即：`a = temp,a = b,b = temp`，在Python中我们可以省略。
```python
>>> a = 1
>>> b = 200
>>> a,b = b,a    # 这样就完成了变量的交换了，是不是很方便
>>> a
200
>>> b
1
>>> 
```
>为什么可以使用这种骚操作，是因为Python在进行变量赋值时，会先计算等式右边的表达式，封装起来，然后再进行解构，赋给对应位置上的变量。并且还提供了其他更便捷的方法比如*号。  

- `*号`： 使用方式为: `*变量名`，贪婪的吸收解构的元素形成一个列表,__无论能否吸收，都会返回一个列表__。
- `_号`：表示丢弃一个变量(实际上是使用`_`接受变量，但是使用这么一个符号，就表示我们不想用它)
```python
In [1]: t = list(range(5))                                                                                                                          
In [2]: t                                                                                                                                           
Out[2]: [0, 1, 2, 3, 4]
In [3]: head,*mid,tail = t                                                                                                                          
In [4]: head                                                                                                                                        
Out[4]: 0
In [5]: mid                                                                                                                                         
Out[5]: [1, 2, 3]
In [6]: tail                                                                                                                                        
Out[6]: 4

```
需要注意的是：
1. *变量名，这种格式不能单独使用
2. 也不能多个\*变量名，连续使用(因为从原理上看，两个、*变量名连起来使用，会引起歧义，所以Python禁止了这种写法)
3. *_这种格式，可以收集足够多的元素丢弃
```python
# 1 从[1,(2,3,4),5]中取出4来
>>> _,(*_,a),_ = [1,(2,3,4),5]
>>> a
>>> 4

# 环境变量JAVA_HOME=/usr/bin/java，返回环境变量名和路径
>>> env,path = 'JAVA_HOME=/usr/bin/java'.split('=')
>>> env,path
>>> ('JAVA_HOME','/usr/bin/java')

或者

In [9]:  env, _, path = 'JAVA_HOME=/usr/bin/java'.partition('=')                                                                                    
In [10]: env,path                                                                                                                                   
Out[10]: ('JAVA_HOME', '/usr/bin/java')
```
__解构是Python提供的很好的功能，可以方便的提取复杂的数据结构的值，配置_使用时，会更加便捷。__